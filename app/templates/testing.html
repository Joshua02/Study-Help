{% extends "base.html" %}

{% block left %}
<h3 class="title">Session Info</h3>
<ul>Current topics:
    {% for topic in session['topics'] %}
    <li>{{ topic }}</li>
    {% endfor %}
</ul>
<ul>Stats:
    <li>Correct: {{ session['correct'] }}</li>
    <li>Accuracy: {{ session['accuracy'] }}</li>
    <li>Streak: {{ session ['streak'] }}</li>
</ul>
    {% if session['last_answered'] %}
    {% set question = session['last_question'] %}
    <ul>Last question:
        <li>Result: {{ session['last_result'] }}</li>
        <li>Duration: {{ question['time'] }} seconds</li> 
        <li>Question: {{ question['question'] }}</li> 
        <li>Your answer: {{ question['your_answer'] }}</li>
        <li>Answer: {{ question['answer'] }}</li> 
        {% if question['type'] == 'equation' %}
            <li>Hint: {{ question['hint'] }}</li> 
            <li>Reasoning: {{ question['reasoning'] }}</li> 
        {% endif %}
    </ul>
    {% endif %}
{% endblock %}

{% block content %}
<div class="col-sm-8 mx-auto">
    <h3>Question {{ session['question_num'] }}:</h3>
    {% set question = session['question']%}
    <p class="lead font-weight-normal">{{ question['question'] }}</p>
    <div>
        <form class="mt-2 mt-md-0" method="POST">
            
            {% if question['type'] in ['equation', 'evalulate'] %}
            <input type="text" class="form-control" placeholder="Answer here plz" id="answer" name="answer" autocomplete="off" required>
            {% if question['type'] == 'equation' %}
            <div>
                <button type="button" class="btn btn-outline-success my-2 my-sm-0" id="button" aria-describedby="tooltip">Hint?</button>
                <div id="tooltip" role="tooltip">{{ question['hint'] }}<div id="arrow" data-popper-arrow></div>
            </div>
            {% endif %}
            {% elif question['type'] == 'multiple_choice' %}
                {% for option in question['options'] %}
                    <input type='radio' name="answer" id={{ option }} value={{ option }} checked hidden>
                    <label for={{ option }}><div class="btn btn-outline-success my-2 my-sm-0 check">{{ option.replace('_', ' ') }}</div></label>
                {% endfor %}
                <br>
            {% endif%}
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Submit</button>
        </form>
    </div>
</div>
{% endblock %}

{% block right %}
{% endblock %}